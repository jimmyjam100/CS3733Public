<html>
<head>
<script type="text/javascript">
var add_url = "https://0olnn4l1oa.execute-api.us-east-2.amazonaws.com/Alpha/calculator";
var create_url = "https://7au48di44j.execute-api.us-east-2.amazonaws.com/Alpha/createschedule"
function displayWeek(){
	var weekDisplay = document.getElementById('weekDisplay');
	var addString = "";
	
	weekDisplay.innerHTML = "<a> hi </a>";
}
function processResponse(arg1, arg2, result) {
  // Can grab any DIV or SPAN HTML element and can then manipulate its
  // contents dynamically via javascript
  console.log("result:" + result);
  var js = JSON.parse(result);

  var computation = js["response"];

  // Update computation result
  var weekDisplay = document.getElementById('schedList');
  weekDisplay.innerHTML = "<tr> <td>" + computation + "</td> </tr>";
}
function handleClick(e) {
  var arg1 = 5;
  var arg2 = 4;

  var data = {};
  data["arg1"] = 5;
  data["arg2"] = 4;

  var js = JSON.stringify(data);
  console.log("JS:" + js);
  var xhr = new XMLHttpRequest();
  xhr.open("POST", add_url, true);

  // send the collected data as JSON
  xhr.send(js);

  // This will process results and update HTML as appropriate. 
  xhr.onloadend = function () {
    console.log(xhr);
    console.log(xhr.request);
    if (xhr.readyState == XMLHttpRequest.DONE) {
      console.log ("XHR:" + xhr.responseText);
      processResponse(arg1, arg2, xhr.responseText);
    } else {
      processResponse(arg1, arg2, "N/A");
    }
  };
}
function handleCreate(e) {
  var name = document.getElementById("name").value;
  var startDate = document.getElementById("startDate").value;
  var endDate = document.getElementById("endDate").value;
  var startTime = document.getElementById("startTime").value;
  var endTime = document.getElementById("endTime").value;
  var timeslotLen = parseInt(document.getElementById("timeslotLen").value);
  
  var data = {};
  data["name"] = name;
  data["startDate"] = startDate;
  data["endDate"] = endDate;
  data["startTime"] = startTime;
  data["endTime"] = endTime;
  data["timeslotLen"] = timeslotLen

  var js = JSON.stringify(data);
  console.log("JS:" + js);
  var xhr = new XMLHttpRequest();
  xhr.open("POST", create_url, true);

  // send the collected data as JSON
  xhr.send(js);

  // This will process results and update HTML as appropriate. 
  xhr.onloadend = function () {
    console.log(xhr);
    console.log(xhr.request);
    if (xhr.readyState == XMLHttpRequest.DONE) {
      console.log ("XHR:" + xhr.responseText);
      processResponse(4, 5, xhr.responseText);
    } else {
      processResponse(4, 5, "N/A");
    }
  };
}

</script>
</head>

<body onload="displayWeek()">
<p>
<a>name</a>
<input id="name"></input>
<a>start date</a>
<input type="date" id="startDate"></input>

<a>end date</a>
<input type="date" id="endDate"></input>
<a>start time</a>
<input type="time" id="startTime"></input>
<a>end time</a>
<input type="time" id="endTime"></input>
<a>timeslot len (min)</a>
<select id="timeslotLen">
	<option value = "10">10</option>
	<option value = "15">15</option>
	<option value = "30">30</option>
	<option value = "60">60</option>
</select>
<input type="button" value="Create Schedule"  onClick="JavaScript:handleCreate(this)">
</p>
<p>
Schedule List:

<table id="schedList"></table>
</p>
<hr width=100%></hr>

<p id="scheduleName">
no schedule detected
</p>

<p>
<button>add time to begining</button>
<button border-color="red">Delete Schedule</button>
<button>add time to end</button>
</p>
<p>
<input placeholder="Enter Week"></input>
<button>Display</button>
</p>
<input id="result"/>
<p>
<table id='weekDisplay'>

</table>
</p>

<script>
for(i = 0; i < 5; i++){
	document.write("<a>hi" + i + "</a>");
}
</script>
</body>
</html>